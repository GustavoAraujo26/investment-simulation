<mat-card>
  <mat-card-content>
    <div class="mdl-grid">
      <div class="mdl-cell mdl-cell--4-col">
        <mat-form-field class="full-width">
          <mat-label>Valor a aportar:</mat-label>
          <input matInput currencyMask
            [(ngModel)]="simulationValue" [options]="{prefix: 'R$ ', thousands: '.', decimal: ','}"/>
        </mat-form-field>
      </div>
      <div class="mdl-cell mdl-cell-3-col">
        <button mat-mini-fab color="accent" aria-label="Simular carteira" matTooltip="Simular carteira">
          <mat-icon>calculate</mat-icon>
        </button>
      </div>
    </div>
  </mat-card-content>
</mat-card>
<br/>
<mat-card>
  <mat-card-content>
    <div style="overflow: auto; max-width: 100%;">
      <table class="full-width" mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="stock" sticky>
          <th mat-header-cell *matHeaderCellDef>Ativo</th>
          <td mat-cell *matCellDef="let row">
            <app-stock-code-display [logo]="row.stock.logo!" logoHeight="50"
                  [code]="row.stock.code" [name]="row.stock.name" [type]="row.stock.type"></app-stock-code-display>
          </td>
        </ng-container>
        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Pre√ßo</th>
          <td mat-cell *matCellDef="let row">{{row.price | currency : 'BRL'}}</td>
        </ng-container>
        <ng-container matColumnDef="percentage">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Porcentagem da Carteira</th>
          <td mat-cell *matCellDef="let row">{{row.stock.percentage / 100 | percent}}</td>
        </ng-container>
        <ng-container matColumnDef="quantity">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Quantidade de Ativos</th>
          <td mat-cell *matCellDef="let row" class="stock-quantity">{{row.quantity}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">Nenhum ativo encontrado para a carteira</td>
        </tr>
      </table>
    </div>
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of stocks"></mat-paginator>
  </mat-card-content>
</mat-card>
